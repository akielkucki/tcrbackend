package gg.jte.generated.ondemand;
import java.util.Arrays;
import java.util.List;
import co.jrstudios.models.Project;
public final class JteindexGenerated {
	public static final String JTE_NAME = "index.jte";
	public static final int[] JTE_LINE_INFO = {0,0,1,2,4,4,4,259,259,577,577,580,580,580,582,582,582,582,582,582,582,582,585,585,585,585,585,585,585,585,590,590,590,591,591,591,593,593,594,594,594,595,595,599,599,599,602,602,606,655,659,662,663,663,664,664,665,665,665,666,666,666,667,667,667,669,669,670,670,670,670,670,670,671,671,673,673,673,674,674,674,674,675,675,676,967,970};
	public static void render(gg.jte.html.HtmlTemplateOutput jteOutput, gg.jte.html.HtmlInterceptor jteHtmlInterceptor, List<Project> projects) {
		jteOutput.writeContent("\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Admin Panel - Projects</title>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    <style>\n        :root {\n            --primary-bg: #ffffff;\n            --secondary-bg: #f8f9fa;\n            --primary-text: #212529;\n            --secondary-text: #6c757d;\n            --accent: #000000;\n            --border: #dee2e6;\n            --hover: #e9ecef;\n            --tag-bg: #f0f0f0;\n            --overlay: rgba(0, 0, 0, 0.5);\n        }\n\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n        }\n\n        body {\n            background-color: var(--secondary-bg);\n            color: var(--primary-text);\n            min-height: 100vh;\n            display: flex;\n        }\n\n        .sidebar {\n            width: 250px;\n            background-color: var(--accent);\n            color: white;\n            height: 100vh;\n            position: fixed;\n            left: 0;\n            top: 0;\n            overflow-y: auto;\n            transition: all 0.3s ease;\n        }\n\n        .logo {\n            padding: 25px 20px;\n            font-size: 24px;\n            font-weight: bold;\n            border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n        }\n\n        .nav-links {\n            padding: 20px 0;\n        }\n\n        .nav-link {\n            display: flex;\n            align-items: center;\n            padding: 15px 20px;\n            color: rgba(255, 255, 255, 0.7);\n            text-decoration: none;\n            transition: all 0.3s ease;\n        }\n\n        .nav-link i {\n            margin-right: 10px;\n            font-size: 18px;\n        }\n\n        .nav-link.active, .nav-link:hover {\n            background-color: rgba(255, 255, 255, 0.1);\n            color: white;\n        }\n\n        .main-content {\n            flex: 1;\n            margin-left: 250px;\n            padding: 30px;\n            transition: all 0.3s ease;\n        }\n\n        .header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 30px;\n        }\n\n        .header h1 {\n            font-size: 28px;\n            font-weight: 600;\n        }\n\n        .search-bar {\n            display: flex;\n            align-items: center;\n            background-color: var(--primary-bg);\n            border-radius: 8px;\n            padding: 10px 15px;\n            border: 1px solid var(--border);\n        }\n\n        .search-bar input {\n            border: none;\n            outline: none;\n            background-color: transparent;\n            font-size: 14px;\n            width: 250px;\n            margin-left: 10px;\n        }\n\n        .btn {\n            background-color: var(--accent);\n            color: white;\n            border: none;\n            padding: 10px 20px;\n            border-radius: 8px;\n            font-size: 14px;\n            cursor: pointer;\n            transition: all 0.3s ease;\n            display: flex;\n            align-items: center;\n            font-weight: 500;\n        }\n\n        .btn i {\n            margin-right: 8px;\n        }\n\n        .btn:hover {\n            opacity: 0.9;\n        }\n\n        .filters {\n            display: flex;\n            gap: 15px;\n            margin-bottom: 20px;\n        }\n\n        .filter {\n            background-color: var(--primary-bg);\n            border: 1px solid var(--border);\n            border-radius: 8px;\n            padding: 10px 15px;\n            font-size: 14px;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n\n        .filter i {\n            margin-right: 8px;\n        }\n\n        .projects-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n            gap: 20px;\n        }\n\n        .project-card {\n            background-color: var(--primary-bg);\n            border-radius: 10px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n            padding: 20px;\n            transition: all 0.3s ease;\n        }\n\n        .project-card:hover {\n            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);\n            transform: translateY(-5px);\n        }\n\n        .project-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 15px;\n        }\n\n        .project-id {\n            background-color: var(--tag-bg);\n            color: var(--secondary-text);\n            padding: 5px 10px;\n            border-radius: 4px;\n            font-size: 12px;\n            font-weight: 500;\n        }\n\n        .project-title {\n            font-size: 18px;\n            font-weight: 600;\n            margin-bottom: 10px;\n        }\n\n        .project-description {\n            color: var(--secondary-text);\n            font-size: 14px;\n            margin-bottom: 15px;\n            line-height: 1.5;\n        }\n\n        .project-tags {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 8px;\n            margin-bottom: 15px;\n        }\n\n        .tag {\n            background-color: var(--tag-bg);\n            border-radius: 4px;\n            padding: 5px 10px;\n            font-size: 12px;\n            font-weight: 500;\n        }\n\n        .project-location {\n            display: flex;\n            align-items: center;\n            color: var(--secondary-text);\n            font-size: 14px;\n        }\n\n        .project-location i {\n            margin-right: 8px;\n        }\n\n        .project-actions {\n            display: flex;\n            gap: 10px;\n            margin-top: 15px;\n            padding-top: 15px;\n            border-top: 1px solid var(--border);\n        }\n\n        .action-btn {\n            background-color: transparent;\n            border: 1px solid var(--border);\n            border-radius: 6px;\n            padding: 8px;\n            cursor: pointer;\n            transition: all 0.3s ease;\n            color: var(--secondary-text);\n        }\n\n        .action-btn:hover {\n            background-color: var(--hover);\n            color: var(--primary-text);\n        }\n\n        ");
		jteOutput.writeContent("\n        .modal-overlay {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background-color: var(--overlay);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            z-index: 1000;\n            opacity: 0;\n            pointer-events: none;\n            transition: opacity 0.3s ease;\n        }\n\n        .modal-overlay.active {\n            opacity: 1;\n            pointer-events: auto;\n        }\n\n        .modal {\n            background-color: var(--primary-bg);\n            border-radius: 12px;\n            width: 90%;\n            max-width: 600px;\n            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);\n            transform: translateY(-20px);\n            transition: transform 0.3s ease;\n            max-height: 90vh;\n            overflow-y: auto;\n        }\n\n        .modal-overlay.active .modal {\n            transform: translateY(0);\n        }\n\n        .modal-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 20px 24px;\n            border-bottom: 1px solid var(--border);\n        }\n\n        .modal-title {\n            font-size: 20px;\n            font-weight: 600;\n        }\n\n        .close-modal {\n            background: none;\n            border: none;\n            cursor: pointer;\n            font-size: 20px;\n            color: var(--secondary-text);\n            transition: color 0.3s ease;\n        }\n\n        .close-modal:hover {\n            color: var(--primary-text);\n        }\n\n        .modal-body {\n            padding: 24px;\n        }\n\n        .form-group {\n            margin-bottom: 20px;\n        }\n\n        .form-label {\n            display: block;\n            margin-bottom: 8px;\n            font-weight: 500;\n            font-size: 14px;\n        }\n\n        .form-control {\n            width: 100%;\n            padding: 12px 14px;\n            border: 1px solid var(--border);\n            border-radius: 8px;\n            font-size: 14px;\n            transition: border-color 0.3s ease;\n        }\n\n        .form-control:focus {\n            outline: none;\n            border-color: var(--accent);\n        }\n\n        .tags-input-container {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 8px;\n            padding: 8px 12px;\n            border: 1px solid var(--border);\n            border-radius: 8px;\n            cursor: text;\n        }\n\n        .tags-input-container .tag {\n            display: flex;\n            align-items: center;\n            background-color: var(--tag-bg);\n            padding: 5px 8px;\n            border-radius: 4px;\n        }\n\n        .tag-remove {\n            margin-left: 6px;\n            cursor: pointer;\n            font-size: 14px;\n        }\n\n        .tags-input {\n            flex: 1;\n            border: none;\n            outline: none;\n            padding: 5px 0;\n            min-width: 100px;\n        }\n\n        .modal-footer {\n            padding: 20px 24px;\n            border-top: 1px solid var(--border);\n            display: flex;\n            justify-content: flex-end;\n            gap: 12px;\n        }\n\n        .btn-secondary {\n            background-color: var(--secondary-bg);\n            color: var(--primary-text);\n            border: 1px solid var(--border);\n        }\n\n        .btn-secondary:hover {\n            background-color: var(--hover);\n        }\n\n        .auth-section {\n            background-color: var(--secondary-bg);\n            border-radius: 8px;\n            padding: 15px;\n            margin-bottom: 20px;\n        }\n\n        .auth-message {\n            font-size: 13px;\n            color: var(--secondary-text);\n            margin-top: 5px;\n        }\n\n        .token-status {\n            display: inline-block;\n            width: 8px;\n            height: 8px;\n            border-radius: 50%;\n            margin-right: 5px;\n        }\n\n        .token-status.valid {\n            background-color: #28a745;\n        }\n\n        .token-status.invalid {\n            background-color: #dc3545;\n        }\n\n        .notification {\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            background-color: var(--primary-bg);\n            color: var(--primary-text);\n            padding: 15px 20px;\n            border-radius: 8px;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            z-index: 1100;\n            transform: translateY(-100px);\n            opacity: 0;\n            transition: all 0.3s ease;\n        }\n\n        .notification.show {\n            transform: translateY(0);\n            opacity: 1;\n        }\n\n        .notification.success {\n            border-left: 4px solid #28a745;\n        }\n\n        .notification.error {\n            border-left: 4px solid #dc3545;\n        }\n\n        @media (max-width: 1024px) {\n            .sidebar {\n                width: 80px;\n            }\n\n            .logo {\n                padding: 25px 0;\n                text-align: center;\n                font-size: 16px;\n            }\n\n            .nav-link span {\n                display: none;\n            }\n\n            .nav-link i {\n                margin-right: 0;\n                font-size: 20px;\n            }\n\n            .main-content {\n                margin-left: 80px;\n            }\n        }\n\n        @media (max-width: 768px) {\n            .projects-grid {\n                grid-template-columns: 1fr;\n            }\n\n            .header {\n                flex-direction: column;\n                align-items: flex-start;\n                gap: 15px;\n            }\n\n            .search-bar {\n                width: 100%;\n            }\n\n            .search-bar input {\n                width: 100%;\n            }\n\n            .filters {\n                overflow-x: auto;\n                width: 100%;\n                padding-bottom: 10px;\n            }\n        }\n    </style>\n</head>\n<body>\n<div class=\"sidebar\">\n    <div class=\"logo\">AdminPanel</div>\n    <div class=\"nav-links\">\n        <a href=\"#\" class=\"nav-link active\">\n            <i class=\"fas fa-th-large\"></i>\n            <span>Dashboard</span>\n        </a>\n        <a href=\"#\" class=\"nav-link\">\n            <i class=\"fas fa-project-diagram\"></i>\n            <span>Projects</span>\n        </a>\n        <a href=\"#\" class=\"nav-link\">\n            <i class=\"fas fa-tasks\"></i>\n            <span>Tasks</span>\n        </a>\n        <a href=\"#\" class=\"nav-link\">\n            <i class=\"fas fa-users\"></i>\n            <span>Team</span>\n        </a>\n        <a href=\"#\" class=\"nav-link\">\n            <i class=\"fas fa-calendar\"></i>\n            <span>Calendar</span>\n        </a>\n        <a href=\"#\" class=\"nav-link\">\n            <i class=\"fas fa-chart-bar\"></i>\n            <span>Reports</span>\n        </a>\n        <a href=\"#\" class=\"nav-link\">\n            <i class=\"fas fa-cog\"></i>\n            <span>Settings</span>\n        </a>\n    </div>\n</div>\n\n<main class=\"main-content\">\n    <div class=\"header\">\n        <h1>Projects</h1>\n        <div class=\"controls\">\n            <div class=\"search-bar\">\n                <i class=\"fas fa-search\"></i>\n                <input type=\"text\" placeholder=\"Search projects...\">\n            </div>\n        </div>\n    </div>\n\n    <div class=\"filters\">\n        <button class=\"filter\">\n            <i class=\"fas fa-filter\"></i>\n            All Projects\n        </button>\n        <button class=\"filter\">\n            <i class=\"fas fa-map-marker-alt\"></i>\n            Location\n        </button>\n        <button class=\"filter\">\n            <i class=\"fas fa-tags\"></i>\n            Tags\n        </button>\n        <button class=\"btn\" id=\"newProjectBtn\">\n            <i class=\"fas fa-plus\"></i>\n            New Project\n        </button>\n    </div>\n\n    <div class=\"projects-grid\">\n        ");
		for (Project project : projects) {
			jteOutput.writeContent("\n            <div class=\"project-card\">\n                <div class=\"project-header\">\n                    <div class=\"project-id\">#");
			jteOutput.setContext("div", null);
			jteOutput.writeUserContent(project.getId());
			jteOutput.writeContent("</div>\n                    <div class=\"project-actions\">\n                        <button class=\"action-btn edit-btn\"");
			if (gg.jte.runtime.TemplateUtils.isAttributeRendered(project.getId())) {
				jteOutput.writeContent(" data-project-id=\"");
				jteOutput.setContext("button", "data-project-id");
				jteOutput.writeUserContent(project.getId());
				jteOutput.setContext("button", null);
				jteOutput.writeContent("\"");
			}
			jteOutput.writeContent(">\n                            <i class=\"fas fa-pencil-alt\"></i>\n                        </button>\n                        <button class=\"action-btn delete-btn\"");
			if (gg.jte.runtime.TemplateUtils.isAttributeRendered(project.getId())) {
				jteOutput.writeContent(" data-project-id=\"");
				jteOutput.setContext("button", "data-project-id");
				jteOutput.writeUserContent(project.getId());
				jteOutput.setContext("button", null);
				jteOutput.writeContent("\"");
			}
			jteOutput.writeContent(">\n                            <i class=\"fas fa-trash\"></i>\n                        </button>\n                    </div>\n                </div>\n                <h3 class=\"project-title\">");
			jteOutput.setContext("h3", null);
			jteOutput.writeUserContent(project.getTitle());
			jteOutput.writeContent("</h3>\n                <p class=\"project-description\">");
			jteOutput.setContext("p", null);
			jteOutput.writeUserContent(project.getDescription());
			jteOutput.writeContent("</p>\n                <div class=\"project-tags\">\n                    ");
			for (int i = 0; i < Arrays.stream(project.getTags()).toList().size(); i++) {
				jteOutput.writeContent("\n                        <span class=\"tag\">");
				jteOutput.setContext("span", null);
				jteOutput.writeUserContent(Arrays.stream(project.getTags()).toList().get(i));
				jteOutput.writeContent("</span>\n                    ");
			}
			jteOutput.writeContent("\n                </div>\n                <div class=\"project-location\">\n                    <i class=\"fas fa-map-marker-alt\"></i>\n                    ");
			jteOutput.setContext("div", null);
			jteOutput.writeUserContent(project.getLocation());
			jteOutput.writeContent("\n                </div>\n            </div>\n        ");
		}
		jteOutput.writeContent("\n    </div>\n</main>\n\n");
		jteOutput.writeContent("\n<div class=\"modal-overlay\" id=\"editProjectModal\">\n    <div class=\"modal\">\n        <div class=\"modal-header\">\n            <h3 class=\"modal-title\">Edit Project</h3>\n            <button class=\"close-modal\" id=\"closeModal\">&times;</button>\n        </div>\n        <div id=\"editProjectForm\">\n            <input type=\"hidden\" id=\"projectId\" name=\"id\">\n            <div class=\"modal-body\">\n                <div class=\"auth-section\">\n                    <div class=\"form-group\">\n                        <label for=\"authToken\" class=\"form-label\">Authorization Token</label>\n                        <input type=\"text\" id=\"authToken\" class=\"form-control\" placeholder=\"Enter your JWT token\">\n                        <p class=\"auth-message\"><span id=\"tokenStatus\" class=\"token-status\"></span> <span id=\"tokenMessage\">Please enter your authorization token</span></p>\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"projectTitle\" class=\"form-label\">Project Title</label>\n                    <input type=\"text\" id=\"projectTitle\" name=\"title\" class=\"form-control\" required>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"projectDescription\" class=\"form-label\">Description</label>\n                    <textarea id=\"projectDescription\" name=\"description\" class=\"form-control\" rows=\"3\" required></textarea>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\">Tags</label>\n                    <div class=\"tags-input-container\" id=\"tagsContainer\">\n                        <input type=\"text\" class=\"tags-input\" id=\"tagsInput\" placeholder=\"Add a tag...\">\n                    </div>\n                    <input type=\"hidden\" id=\"tagsHidden\" name=\"tags\">\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"projectLocation\" class=\"form-label\">Location</label>\n                    <select id=\"projectLocation\" name=\"location\" class=\"form-control\">\n                        <option value=\"On site\">On site</option>\n                        <option value=\"Remote\">Remote</option>\n                        <option value=\"Hybrid\">Hybrid</option>\n                    </select>\n                </div>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-secondary\" id=\"cancelEdit\">Cancel</button>\n                <button type=\"button\" class=\"btn\" id=\"saveChangesBtn\">Save Changes</button>\n            </div>\n        </div>\n    </div>\n</div>\n\n");
		jteOutput.writeContent("\n<div class=\"notification\" id=\"notification\"></div>\n\n<script>\n    ");
		jteOutput.writeContent("\n    // Project data from server for JavaScript access\n    const projectsData = [\n            ");
		jteOutput.writeContent("\n            ");
		for (int i = 0; i < projects.size(); i++) {
			jteOutput.writeContent("\n            ");
			jteOutput.writeContent("{");
			jteOutput.writeContent("\n            id: ");
			jteOutput.setContext("script", null);
			jteOutput.writeUserContent(projects.get(i).getId());
			jteOutput.writeContent(",\n            title: \"");
			jteOutput.setContext("script", null);
			jteOutput.writeUserContent(projects.get(i).getTitle());
			jteOutput.writeContent("\",\n            description: \"");
			jteOutput.setContext("script", null);
			jteOutput.writeUserContent(projects.get(i).getDescription());
			jteOutput.writeContent("\",\n            tags: [\n                ");
			for (int j = 0; j < Arrays.stream(projects.get(i).getTags()).toList().size(); j++) {
				jteOutput.writeContent("\n                \"");
				jteOutput.setContext("script", null);
				jteOutput.writeUserContent(Arrays.stream(projects.get(i).getTags()).toList().get(j));
				jteOutput.writeContent("\"");
				jteOutput.setContext("script", null);
				jteOutput.writeUserContent(j < Arrays.stream(projects.get(i).getTags()).toList().size() - 1 ? "," : "");
				jteOutput.writeContent("\n                ");
			}
			jteOutput.writeContent("\n            ],\n            location: \"");
			jteOutput.setContext("script", null);
			jteOutput.writeUserContent(projects.get(i).getLocation());
			jteOutput.writeContent("\"\n            ");
			jteOutput.writeContent("}");
			jteOutput.setContext("script", null);
			jteOutput.writeUserContent(i < projects.size() - 1 ? "," : "");
			jteOutput.writeContent("\n        ");
		}
		jteOutput.writeContent("\n        ");
		jteOutput.writeContent("\n    ];\n\n    // DOM Elements\n    const editModal = document.getElementById('editProjectModal');\n    const closeModalBtn = document.getElementById('closeModal');\n    const cancelEditBtn = document.getElementById('cancelEdit');\n    const editProjectForm = document.getElementById('editProjectForm');\n    const projectIdInput = document.getElementById('projectId');\n    const projectTitleInput = document.getElementById('projectTitle');\n    const projectDescriptionInput = document.getElementById('projectDescription');\n    const projectLocationInput = document.getElementById('projectLocation');\n    const tagsContainer = document.getElementById('tagsContainer');\n    const tagsInput = document.getElementById('tagsInput');\n    const tagsHiddenInput = document.getElementById('tagsHidden');\n    const editButtons = document.querySelectorAll('.edit-btn');\n    const deleteButtons = document.querySelectorAll('.delete-btn');\n    const newProjectBtn = document.getElementById('newProjectBtn');\n    const saveChangesBtn = document.getElementById('saveChangesBtn');\n    const authTokenInput = document.getElementById('authToken');\n    const tokenStatus = document.getElementById('tokenStatus');\n    const tokenMessage = document.getElementById('tokenMessage');\n    const notification = document.getElementById('notification');\n\n    // Check if token is in localStorage and populate field\n    document.addEventListener('DOMContentLoaded', function() {\n        const savedToken = localStorage.getItem('authToken');\n        if (savedToken) {\n            authTokenInput.value = savedToken;\n            validateToken(savedToken);\n        }\n    });\n\n    // Validate token when input changes\n    authTokenInput.addEventListener('input', function() {\n        const token = this.value.trim();\n        validateToken(token);\n    });\n\n    // Function to validate token format (basic check)\n    function validateToken(token) {\n        if (!token) {\n            tokenStatus.className = 'token-status';\n            tokenMessage.textContent = 'Please enter your authorization token';\n            return false;\n        }\n\n        // Check if token has three parts separated by dots (basic JWT format)\n        const parts = token.split('.');\n        if (parts.length !== 3) {\n            tokenStatus.className = 'token-status invalid';\n            tokenMessage.textContent = 'Invalid token format';\n            return false;\n        }\n\n        // Store valid token in localStorage\n        localStorage.setItem('authToken', token);\n        tokenStatus.className = 'token-status valid';\n        tokenMessage.textContent = 'Token looks valid';\n        return true;\n    }\n\n    // Current tags array\n    let currentTags = [];\n\n    // Open modal function\n    function openModal(projectId) {\n        const project = projectsData.find(p => p.id == projectId);\n\n        if (project) {\n            // Populate form fields\n            projectIdInput.value = project.id;\n            projectTitleInput.value = project.title;\n            projectDescriptionInput.value = project.description;\n            projectLocationInput.value = project.location;\n\n            // Reset and populate tags\n            currentTags = [...project.tags];\n            renderTags();\n\n            // Show modal\n            editModal.classList.add('active');\n        }\n    }\n\n    // Open modal for new project\n    function openNewProjectModal() {\n        // Clear form fields\n        projectIdInput.value = '';\n        projectTitleInput.value = '';\n        projectDescriptionInput.value = '';\n        projectLocationInput.value = 'On site';\n\n        // Reset tags\n        currentTags = [];\n        renderTags();\n\n        // Show modal\n        editModal.classList.add('active');\n    }\n\n    // Close modal function\n    function closeModal() {\n        editModal.classList.remove('active');\n    }\n\n    // Render tags function\n    function renderTags() {\n        // Clear existing tags (except input)\n        const tagElements = tagsContainer.querySelectorAll('.tag');\n        tagElements.forEach(tag => tag.remove());\n\n        // Add each tag\n        currentTags.forEach(tag => {\n            const tagElement = document.createElement('span');\n            tagElement.classList.add('tag');\n            tagElement.innerHTML = `${tag} <span class=\"tag-remove\" data-tag=\"${tag}\">&times;</span>`;\n            tagsContainer.insertBefore(tagElement, tagsInput);\n        });\n\n        // Update hidden input value\n        tagsHiddenInput.value = JSON.stringify(currentTags);\n    }\n\n    // Add tag function\n    function addTag(tag) {\n        tag = tag.trim();\n        if (tag && !currentTags.includes(tag)) {\n            currentTags.push(tag);\n            renderTags();\n            tagsInput.value = '';\n        }\n    }\n\n    // Remove tag function\n    function removeTag(tag) {\n        currentTags = currentTags.filter(t => t !== tag);\n        renderTags();\n    }\n\n    // Show notification\n    function showNotification(message, type) {\n        notification.textContent = message;\n        notification.className = `notification ${type} show`;\n\n        setTimeout(() => {\n            notification.className = 'notification';\n        }, 3000);\n    }\n\n    // Event Listeners\n    editButtons.forEach(button => {\n        button.addEventListener('click', function(e) {\n            e.preventDefault();\n            const projectId = this.getAttribute('data-project-id');\n            openModal(projectId);\n        });\n    });\n\n    deleteButtons.forEach(button => {\n        button.addEventListener('click', function(e) {\n            e.preventDefault();\n            const projectId = this.getAttribute('data-project-id');\n            deleteProject(projectId);\n        });\n    });\n\n    newProjectBtn.addEventListener('click', function(e) {\n        e.preventDefault();\n        openNewProjectModal();\n    });\n\n    closeModalBtn.addEventListener('click', closeModal);\n    cancelEditBtn.addEventListener('click', closeModal);\n\n    // Close modal when clicking outside\n    editModal.addEventListener('click', function(e) {\n        if (e.target === editModal) {\n            closeModal();\n        }\n    });\n\n    // Tags input handling\n    tagsInput.addEventListener('keydown', function(e) {\n        if (e.key === 'Enter' || e.key === ',') {\n            e.preventDefault();\n            addTag(this.value);\n        }\n    });\n\n    tagsInput.addEventListener('blur', function() {\n        if (this.value.trim()) {\n            addTag(this.value);\n        }\n    });\n\n    // Event delegation for tag removal\n    tagsContainer.addEventListener('click', function(e) {\n        if (e.target.classList.contains('tag-remove')) {\n            const tagToRemove = e.target.getAttribute('data-tag');\n            removeTag(tagToRemove);\n        }\n    });\n\n    // Save changes button handler\n    saveChangesBtn.addEventListener('click', function() {\n        const token = authTokenInput.value.trim();\n        if (!validateToken(token)) {\n            showNotification('Please enter a valid authorization token', 'error');\n            return;\n        }\n\n        const formData = {\n            id: projectIdInput.value,\n            title: projectTitleInput.value,\n            description: projectDescriptionInput.value,\n            tags: currentTags,\n            location: projectLocationInput.value\n        };\n\n        // Determine if this is a new project or update\n        const isNewProject = !formData.id;\n        const url = isNewProject ? '/api/projects' : '/api/projects';\n        const method = isNewProject ? 'POST' : 'PUT';\n\n        // Send data to server\n        fetch(url, {\n            method: method,\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify(formData)\n        })\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(`HTTP error! Status: ${response.status}`);\n                }\n                return response.json();\n            })\n            .then(data => {\n                showNotification(`Project ${isNewProject ? 'created' : 'updated'} successfully`, 'success');\n                closeModal();\n\n                // Refresh the page to show updated data\n                setTimeout(() => {\n                    window.location.reload();\n                }, 1000);\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                showNotification(`Error: ${error.message}`, 'error');\n            });\n    });\n\n    // Delete project function\n    function deleteProject(projectId) {\n        const token = localStorage.getItem('authToken');\n        if (!token) {\n            showNotification('Authentication token required', 'error');\n            openModal(projectId); // Open modal to get token\n            return;\n        }\n\n        if (confirm('Are you sure you want to delete this project?')) {\n            fetch(`/api/projects/${projectId}`, {\n                method: 'DELETE',\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                }\n            })\n                .then(response => {\n                    if (!response.ok) {\n                        throw new Error(`HTTP error! Status: ${response.status}`);\n                    }\n                    return response.json();\n                })\n                .then(data => {\n                    showNotification('Project deleted successfully', 'success');\n\n                    // Refresh the page to show updated data\n                    setTimeout(() => {\n                        window.location.reload();\n                    }, 1000);\n                })\n                .catch(error => {\n                    console.error('Error:', error);\n                    showNotification(`Error: ${error.message}`, 'error');\n                });\n        }\n    }\n    ");
		jteOutput.writeContent("\n</script>\n</body>\n</html>");
	}
	public static void renderMap(gg.jte.html.HtmlTemplateOutput jteOutput, gg.jte.html.HtmlInterceptor jteHtmlInterceptor, java.util.Map<String, Object> params) {
		List<Project> projects = (List<Project>)params.get("projects");
		render(jteOutput, jteHtmlInterceptor, projects);
	}
}
